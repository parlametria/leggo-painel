<div class="card">
  <div class="card-header bg-dark">
    <h5 class="text-white">Filtros</h5>
  </div>
  <div class="card-body">
    <h5>Proposições</h5>
    <h5>
      <span *ngIf="numeroProposicoes !== 0">{{ numeroProposicoes }}&nbsp;</span>
    </h5>
    <div class="form-group">
      <label for="local">Local</label>
      <select
        id="local"
        class="form-control"
        [style.width]="'200px'"
        #selectorLocal
        (change)="aplicarFiltro()"
        [(ngModel)]="localSelecionado"
        [ngModelOptions]="{ standalone: true }"
      >
        <optgroup
          *ngFor="let grp of locaisBusca"
          label="{{ getCasaLocal(grp.key) }}"
        >
          <option *ngFor="let l of grp.values" [ngValue]="l">
            <span *ngIf="l.tipo_local === 'comissao_permanente'">
              {{ l.sigla_ultimo_local }} - {{ l.nome_ultimo_local }}
            </span>
            <span *ngIf="l.tipo_local === 'comissao_especial'">
              {{ l.sigla_ultimo_local }} - Comissão Especial
            </span>
            <span *ngIf="l.tipo_local === 'geral'">{{
              l.sigla_ultimo_local
            }}</span>
            <span
              *ngIf="
                !['comissao_permanente', 'comissao_especial', 'geral'].includes(
                  l.tipo_local
                )
              "
            >
              {{ l.sigla_ultimo_local }} -
              <span *ngIf="l.casa_ultimo_local === 'camara'">Câmara</span>
              <span *ngIf="l.casa_ultimo_local === 'senado'">Senado</span>
            </span>
          </option>
        </optgroup>
      </select>
    </div>

    <h5>Ordenado por</h5>
    <h6>Temperatura</h6>
    <div class="btn-group d-flex mb-2" role="group" aria-label="temperatura">
      <button
        type="button"
        [class]="getClasseBotaoOrdenacao('maior-temperatura')"
        (click)="setOrdenacao('maior-temperatura')"
      >
        <span class="icon-temperatura"></span>
        maior
      </button>
      <button
        type="button"
        [class]="getClasseBotaoOrdenacao('menor-temperatura')"
        (click)="setOrdenacao('menor-temperatura')"
      >
        <span class="icon-temperatura"></span>
        menor
      </button>
    </div>
    <h6>Pressão</h6>
    <div class="btn-group d-flex mb-2" role="group" aria-label="pressao">
      <button
        type="button"
        [class]="getClasseBotaoOrdenacao('maior-pressao')"
        (click)="setOrdenacao('maior-pressao')"
      >
        <span class="icon-temperatura"></span>
        maior
      </button>
      <button
        type="button"
        [class]="getClasseBotaoOrdenacao('menor-pressao')"
        (click)="setOrdenacao('menor-pressao')"
      >
        <span class="icon-temperatura"></span>
        menor
      </button>
    </div>

    <div class="form-group">
      <label>Por assunto</label>
      <select
        class="app-seletor"
        [style.width]="'300px'"
        #selectorTema
        (change)="onChangeTema($event.target.value)"
        [(ngModel)]="temaSelecionado"
      >
        <option
          *ngFor="let t of temasBusca"
          [value]="t.tema_slug"
          [selected]="t.tema_slug === temaSelecionado"
        >
          {{ t.tema.toLowerCase() }}
        </option>
      </select>
    </div>

    <div class="form-group">
      <label>Tramitação</label>
      <div class="form-group form-check">
        <input
          id="tramitandoCheck"
          type="checkbox"
          class="form-check-input"
          [(ngModel)]="tramitandoSelecionado"
          (change)="onChangeStatus()"
          [ngModelOptions]="{ standalone: true }"
        />
        <label class="form-check-label" for="tramitandoCheck">Tramitando</label>
      </div>
      <div class="form-group form-check">
        <input
          id="finalizadaCheck"
          type="checkbox"
          class="form-check-input"
          [(ngModel)]="finalizadaSelecionado"
          (change)="onChangeStatus()"
          [ngModelOptions]="{ standalone: true }"
        />
        <label class="form-check-label" for="finalizadaCheck">Finalizadas</label>
      </div>
    </div>

    <div class="form-group">
      <label>Fase</label>
      <div class="form-group form-check">
        <input
          id="iniciadoraCheck"
          type="checkbox"
          class="form-check-input"
          [(ngModel)]="iniciadoraSelecionado"
          (change)="onChangeFase()"
          [ngModelOptions]="{ standalone: true }"
        />
        <label class="form-check-label" for="iniciadoraCheck">Iniciadora</label>
      </div>
      <div class="form-group form-check">
        <input
          id="revisoraCheck"
          type="checkbox"
          class="form-check-input"
          [(ngModel)]="revisoraSelecionado"
          (change)="onChangeFase()"
          [ngModelOptions]="{ standalone: true }"
        />
        <label class="form-check-label" for="revisoraCheck">Revisora</label>
      </div>
      <div class="form-group form-check">
        <input
          id="sancaoCheck"
          type="checkbox"
          class="form-check-input"
          [(ngModel)]="sancaoSelecionado"
          (change)="onChangeFase()"
          [ngModelOptions]="{ standalone: true }"
        />
        <label class="form-check-label" for="sancaoCheck">Sanção/Veto</label>
      </div>
    </div>
  </div>
</div>
