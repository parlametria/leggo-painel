<div class="app-container">
  <div class="proposicoes-navbar">
    <div class="container">
      <div class="row gutters-sm">
        <div class="col-6">
          <h4>{{ interesse?.nome_interesse }}</h4>
        </div>
        <div class="col-4">
          <app-filtro-texto-proposicoes
            [interesse]="interesse"
            (filterChange)="search($event)"
            [numeroProposicoes]="proposicoesDestaque?.length + proposicoes?.length"></app-filtro-texto-proposicoes>
        </div>
        <div class="col-2">
          <a
            [routerLink]="['./parlamentares']"
            routerLinkActive="router-link-active"
            class="btn btn-dark btn-block">
            <span class="icon-atores"></span>
            Parlamentares
          </a>
        </div>
      </div>
    </div>
  </div>
  <!-- <div class="container">
    <div class="my-4">
      <img
        src="https://via.placeholder.com/1640x550?text=destaques"
        width="100%">
    </div>
  </div> -->
  <div class="container pt-4">
    <div [hidden]="isLoading | async">
      <!-- <div *ngIf="proposicoes?.length > 1">
        <strong>{{ proposicoes?.length }}</strong>
        proposições
      </div>
      <div *ngIf="proposicoes?.length === 1">
        <strong>{{ proposicoes?.length }}</strong>
        proposição
      </div> -->
      <div *ngIf="proposicoes?.length === 0">Nenhuma proposição encontrada</div>

      <div class="row">
        <div class="col-8">

          <pagination-template
            #pag="paginationApi"
            maxSize="5"
            (pageChange)="pageChange($event)"
            [hidden]="pag.isFirstPage()">
            <nav
              aria-label="Paginação"
              class="pb-1">
              <ul class="pagination justify-content-center">
                <li class="page-item">
                  <button
                    type="button"
                    class="page-link"
                    [disabled]="pag.isFirstPage()"
                    (click)="pag.previous()">
                    &lt;
                  </button>
                </li>
                <li
                  class="page-item"
                  *ngFor="let page of pag.pages"
                  [class.active]="pag.getCurrent() === page.value">
                  <button
                    type="button"
                    class="page-link"
                    (click)="pag.setCurrent(page.value)">
                    {{ page.label }}
                  </button>
                </li>
                <li class="page-item">
                  <button
                    type="button"
                    class="page-link"
                    [disabled]="pag.isLastPage()"
                    (click)="pag.next()">
                    &gt;
                  </button>
                </li>
              </ul>
            </nav>
          </pagination-template>
          <div
            *ngFor="let proposicao of proposicoes | paginate: { itemsPerPage: PROPOSICOES_POR_PAGINA, currentPage: p }; index as i"
            class="mt-3">
            <app-card-proposicao
              [proposicao]="proposicao"
              [id]="getProposicaoPosition(i, PROPOSICOES_POR_PAGINA, p)"></app-card-proposicao>
          </div>
          <pagination-template
            #pag="paginationApi"
            maxSize="5"
            (pageChange)="pageChange($event)">
            <nav
              aria-label="Paginação"
              class="pb-1">
              <ul class="pagination justify-content-center">
                <li class="page-item">
                  <button
                    type="button"
                    class="page-link"
                    [disabled]="pag.isFirstPage()"
                    (click)="pag.previous()">
                    &lt;
                  </button>
                </li>
                <li
                  class="page-item"
                  *ngFor="let page of pag.pages"
                  [class.active]="pag.getCurrent() === page.value">
                  <button
                    type="button"
                    class="page-link"
                    (click)="pag.setCurrent(page.value)">
                    {{ page.label }}
                  </button>
                </li>
                <li class="page-item">
                  <button
                    type="button"
                    class="page-link"
                    [disabled]="pag.isLastPage()"
                    (click)="pag.next()">
                    &gt;
                  </button>
                </li>
              </ul>
            </nav>
          </pagination-template>

        </div>
        <div class="col-4">
          <app-filtro-proposicoes
            [interesse]="interesse"
            (filterChange)="search($event)"
            [numeroProposicoes]="proposicoesDestaque?.length + proposicoes?.length"></app-filtro-proposicoes>
        </div>
      </div>
    </div>
  </div>
</div>
