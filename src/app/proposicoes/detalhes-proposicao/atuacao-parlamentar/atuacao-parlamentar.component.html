<h3 class="titulo-sessao">Atuação parlamentar</h3>
<app-loading *ngIf="isLoading | async"></app-loading>
<div [hidden]="isLoading | async">
  <div class="my-4">
    <div class="legend">
      <app-legend
        [title]="'Proposição'"
        [classe]="'bg-proposicao'"></app-legend>

      <app-legend
        [title]="'Emenda'"
        [classe]="'bg-emenda'"></app-legend>

      <app-legend
        [title]="'Requerimento'"
        [classe]="'bg-requerimento'"></app-legend>
        <span class="text-oposicao legend-title">Oposição</span>
        <span class="text-centro-governo legend-title">Centro/Governo</span>

    </div>
  </div>
  <div
    class="mb-2 atuacao-body"
    *ngFor="let parlamentar of atuacao|slice:0:numeroParlamentares let i=index">
    <div class="autor">
      <a [routerLink]="['/', interesse, 'parlamentares', parlamentar?.values[0].id_autor_parlametria]">
        <span *ngIf="parlamentar?.values[0].casa_autor === 'camara'">Dep.</span>
        <span *ngIf="parlamentar?.values[0].casa_autor === 'senado'">Sen.</span>
        {{ parlamentar?.values[0].nome_autor }}
        <span
          *ngIf="parlamentar?.values[0].bancada === 'oposição'"
          class="text-oposicao">
          {{ parlamentar?.values[0].partido }}
        </span>
        <span
          *ngIf="parlamentar?.values[0].bancada === 'governo'"
          class="text-centro-governo">
          {{ parlamentar?.values[0].partido }}
        </span>
        /{{ parlamentar?.values[0].uf }}
      </a>
    </div>
    <div class="barra">
      <div class="barra-progresso">
        <app-progress-stacked
          [categorias]=parlamentar?.values
          [min]=0
          [max]=maximoDocumentos
          [score]=parlamentar?.soma_documentos></app-progress-stacked>
      </div>
    </div>
  </div>
  <div *ngIf="atuacao?.length > NUMERO_PARLAMENTARES">
    <button
      class="btn btn-light btn-xs"
      (click)="toogleShowParlamentares()">
      <span [hidden]="numeroParlamentares === NUMERO_PARLAMENTARES">ver apenas os mais atuantes</span>
      <span [hidden]="numeroParlamentares > NUMERO_PARLAMENTARES">ver todos os parlamentares</span>
    </button>
  </div>
  <div class="mt-4">
    <span>
      Dados de atuação parlamentar a partir de 2019.
    </span>
  </div>
</div>
