<h3 class="titulo-sessao">Temperatura e Pressão</h3>
<div class="row no-gutters">
  <div class="col-md-8 vis-wrapper">
    <app-vis-temperatura-pressao (dataOnChange)="dataOnChange($event)"></app-vis-temperatura-pressao>
  </div>
  <div class="col-md-4">
    <div
      class="vis-tooltip vis-tooltip-lg"
      *ngIf="filtro?.data">
      <div class="vis-tooltip-titulo-lg">
        Semana de {{ getSemanaString(filtro?.data) }}
      </div>
      <div class="mb-3">
        <p>
          <strong class="color-temperatura">
            {{ filtro?.valorTemperatura | number : '1.0-1' }}°C
          </strong>
          de temperatura
        </p>
      </div>
      <p *ngIf="filtro?.valorPressao">
        <strong class="color-pressao">{{ filtro?.valorPressao }}</strong>
        de pressão
      </p>
      <p *ngIf="!filtro?.valorPressao">
        Dados de <strong class="color-pressao">pressão</strong> só ficam disponíveis no final da semana
      </p>
    </div>
  </div>
</div>
<div *ngIf="filtro?.data">
  <h3 class="titulo-sessao">
    Ações legislativas de {{ getSemanaString(filtro?.data) }}
  </h3>
  <div *ngIf="!eventosPrincipais.length && !eventosSecundarios.length">Nenhuma ação legislativa nesta semana.</div>
  <table class="eventos-tram">
    <div *ngFor="let evento of eventosPrincipais">
      <td class="date-field">
        <div>{{ evento?.data | date:'dd/MM/yyyy' }}</div>
        <tbody>
          <tr class="text-muted">{{ evento?.sigla_local }}</tr>
        </tbody>
      </td>
      <td>
        <tbody>
          <app-evento-tramitacao [evento]="evento"></app-evento-tramitacao>
        </tbody>
      </td>
    </div>
  </table>
  <div *ngIf="eventosSecundarios.length">
    <p>
      <button
        *ngIf="!showMais"
        class="btn btn-light"
        (click)="toggleShowMais()">
        Ver mais ações nesta semana
      </button>
      <button
        *ngIf="showMais"
        class="btn btn-light"
        (click)="toggleShowMais()">
        Ver menos ações nesta semana
      </button>
    </p>
    <table
      *ngIf="showMais"
      class="eventos-tram">
      <div *ngFor="let evento of eventosSecundarios">
        <td class="date-field">
          <div>{{ evento?.data | date:'dd/MM/yyyy' }}</div>
          <tbody>
            <tr class="text-muted">{{ evento?.sigla_local }}</tr>
          </tbody>
        </td>
        <td>
          <tbody>
            <app-evento-tramitacao [evento]="evento"></app-evento-tramitacao>
          </tbody>
        </td>
      </div>
    </table>
  </div>
</div>
